{% extends 'base.html' %}

{% block content %}
<style>
    .lesson-item {
        width: calc(33.33% - 20px); /* Largeur de chaque élément (1/3 de la largeur de la ligne) */
        margin: 10px; /* Marge autour de chaque élément */
        display: inline-block;
        text-align: center;
        position: relative; /* Positionnement relatif pour positionner les stickers */
        background: linear-gradient(135deg, #f0f0f0 0%, #e6e6e6 100%); /* Effet de gradient */
        border-radius: 10px; /* Coins arrondis */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre portée */
        transition: transform 0.2s, box-shadow 0.2s, background-color 0.5s; /* Transition pour les effets de survol */
    }

    .lesson-item:hover {
        transform: translateY(-5px); /* Déplacer légèrement l'élément vers le haut au survol */
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2); /* Augmenter l'ombre portée au survol */
        animation: float 5s ease-in-out infinite; /* Effet de 'flottement' au survol */
    }

    @keyframes float {
        0%, 100% {
            transform: translateY(0);
        }
        50% {
            transform: translateY(-10px);
        }
    }

    .lesson-name {
        margin-top: 40px; /* Marge en haut du nom de la leçon, ajustée pour l'espace du sticker */
        font-weight: bold; /* Texte en gras */
        color: #333; /* Couleur du texte */
    }

    .lessons-container {
        display: flex; /* Utilisation d'un conteneur flex pour organiser les éléments */
        flex-wrap: wrap; /* Permettre le passage à la ligne lorsque nécessaire */
        justify-content: space-between; /* Espacement égal entre les éléments */
    }

    .lesson-teacher {
        background-color: #007bff; /* Bleu pour les enseignants */
    }

    .lesson-student {
        background-color: #ffc107; /* Jaune pour les étudiants */
    }

    .lesson-teacher:hover {
        background-color: #009bff; /* Bleu plus clair au survol pour les enseignants */
    }

    .lesson-student:hover {
        background-color: #ffca28; /* Jaune plus clair au survol pour les étudiants */
    }

    .btn-creative {
        background-color: #4caf50; /* Couleur de fond verte */
        border: none; /* Pas de bordure */
        color: white; /* Texte blanc */
        padding: 15px 32px; /* Padding */
        text-align: center; /* Alignement du texte */
        text-decoration: none; /* Pas de soulignement */
        display: inline-block; /* Affichage en ligne */
        font-size: 16px; /* Taille de la police */
        margin: 20px 2px; /* Marge */
        cursor: pointer; /* Curseur pointer */
        border-radius: 12px; /* Bords arrondis */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre portée */
        transition: background-color 0.3s, transform 0.3s; /* Transition pour le survol */
    }

    .btn-creative:hover {
        background-color: #45a049; /* Couleur de fond plus sombre au survol */
        transform: scale(1.05); /* Agrandissement léger au survol */
    }

    .btn-creative:active {
        transform: scale(0.95); /* Réduction légère au clic */
    }
</style>

<div class="lessons-container">
    {% for lesson in lessons %}
    <div class="lesson-item {% if lesson.teacher %}lesson-teacher{% elif lesson.student %}lesson-student{% endif %}">
        <a href="{% url 'programmes:lessonlistdetail' slug=lesson.slug %}">
            <div class="lesson-name">Chapitre-{{ lesson.position }} {{ lesson.nom }}</div>
        </a>
    </div>
    {% endfor %}
</div>

{% if user.is_superuser or user.profile.type_profil == 'enseignant' %}
#pour afficher le formulaire de création de leçon seulement aux tuteurs ou admin
<a href="{% url 'programmes:lessoncreate' %}" class="btn btn-creative">Créer une leçon</a>
{% endif %}
{% endblock %}
